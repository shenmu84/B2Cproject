<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>美多商城-邮箱验证成功</title>
    <!-- 引入基础样式文件 -->
    <link rel="stylesheet" type="text/css" href="css/reset.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <!-- 引入Vue.js相关文件 -->
    <script type="text/javascript" src="js/vue-2.5.16.js"></script>
    <script type="text/javascript" src="js/axios-0.18.0.min.js"></script>
    <script type="text/javascript" src="js/host.js"></script>
</head>
<body>
    <!-- 页面头部 -->
    <div class="find_header">
        <img src="images/logo.png" alt="美多商城Logo">
        <span class="sub_page_name fl">|&nbsp;&nbsp;&nbsp;&nbsp;邮箱验证成功</span>
    </div>

    <!-- 验证结果展示区域 -->
    <div class="find_form" id="email_result" v-cloak>
        <!-- 验证成功提示 -->
        <div v-if="success" class="pass_change_finish">
            恭喜您，邮箱验证成功！<br/>
            <a href="/index.html">返回主页</a>
        </div>
        <!-- 验证失败提示 -->
        <div v-else class="pass_change_finish">
            链接已失效，验证失败，请重新验证！<br/>
            <a href="/index.html">返回主页</a>
        </div>
    </div>

    <!-- 页脚区域 -->
    <div class="footer no-mp">
        <div class="foot_link">
            <a href="#">关于我们</a>
            <span>|</span>
            <a href="#">联系我们</a>
            <span>|</span>
            <a href="#">招聘人才</a>
            <span>|</span>
            <a href="#">友情链接</a>
        </div>
        <p>CopyRight © 2016 北京美多商业股份有限公司 All Rights Reserved</p>
        <p>电话：010-****888    京ICP备*******8号</p>
    </div>

    <!-- Vue实例配置 -->
    <script>
        var vm = new Vue({
            el: '#email_result',
            data: {
                host: host,
                success: true // 验证状态
            },
            created: function(){
                // 发送邮箱验证请求
                axios.put(this.host+'/users/email/verification/'+ window.location.search, {
                    responseType: 'json',
                    withCredentials: true
                })
                .then(response => {
                    this.success = true;
                })
                .catch(error => {
                    this.success = false;
                });
            }
        });
    </script>
</body>
</html>